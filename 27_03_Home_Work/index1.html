<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button type="button" id="get-text">Получить текст с сервера</button>
    <div id="result"></div>

    <script>
      const request = (url, success, error) => {
        const xhr = new XMLHttpRequest();
        console.log(xhr);
        xhr.open("GET", url);
        console.log(xhr);
        
        let promise = new Promise((resolve, reject) => {
          setTimeout(() => resolve("done!"), 1000);
        });
        
        promise
        .then(
          (result) => alert(result)
            )
        .catch(
            (error) => alert(error)
            )
      };

      //const request1 = (url, success, error) => {
      //fetch(url)
      //.then(function (response) {
      //success(response);
      //})
      //.catch(function (statusText) {
      //console.log("Ошибка!!!");
      //error(statusText);
      //});
      //};

      document.querySelector("#get-text").onclick = () => {
        request(
          "https://itchief.ru/examples/ajax/01.html",
          (data) => {
            document.querySelector("#result").innerHTML = data;
          },
          (error) => {
            console.error(error);
          }
        );
      };
    </script>
  </body>
</html>
